class Api::QuestsController < Api::BaseController

  def submit
    if params[:entry]
      Quest.find_or_create_by(form: params[:form],
                             form_name: params[:form_name],
                             serial_number: params[:entry][:serial_number],
                             field_10: params[:entry][:field_1],
                             creator_name: params[:entry][:creator_name])
      render json: {}, status: 200
    else
      return api_error(status: 401)
    end
  end
end

# raw = "{\x22form\x22:\x220WCL14\x22,\x22form_name\x22:\x22\xE5\xAD\x95\xE6\x9C\x9F\xE9\x97\xAE\xE9\xA2\x98\x22,\x22entry\x22:{\x22serial_number\x22:1,\x22field_10\x22:[\x22\xE5\xAD\x95\xE6\x9C\x9F\xE7\x9A\x84\xE4\xBD\x93\xE9\x87\x8D\xE5\x8F\x98\xE5\x8C\x96\xE7\x89\xB9\xE7\x82\xB9\xEF\xBC\x8C\xE6\x88\x91\xE7\x9A\x84\xE4\xBD\x93\xE9\x87\x8D\xE6\x98\xAF\xE5\x90\xA6\xE8\xB6\x85\xE9\x87\x8D\xEF\xBC\x9F\xEF\xBC\x88\xE8\xAF\xB4\xE5\x87\xBA\xE8\x87\xAA\xE5\xB7\xB1\xE7\x9A\x84\xE4\xBD\x93\xE9\x87\x8D\xEF\xBC\x89\x22,\x22\xE8\x84\xB1\xE5\x8F\x91\xE4\xB8\xA5\xE9\x87\x8D\xE6\x98\xAF\xE5\x90\xA6\xE4\xB8\x8E\xE6\x80\x80\xE5\xAD\x95\xE6\x9C\x89\xE5\x85\xB3\xEF\xBC\x9F\x22,\x22\xE6\x80\x80\xE5\xAD\x95\xE4\xBA\x86\xE5\x8F\xAF\xE4\xBB\xA5\xE6\x97\x85\xE8\xA1\x8C\xE5\x90\x97\xEF\xBC\x9F\xE5\x8F\xAF\xE4\xBB\xA5\xE7\x9A\x84\xE8\xAF\x9D\xE8\xA6\x81\xE6\xB3\xA8\xE6\x84\x8F\xE4\xBB\x80\xE4\xB9\x88\xEF\xBC\x9F\x22],\x22creator_name\x22:\x22dreamlinx\x22,\x22created_at\x22:\x222017-02-18T18:51:02.017Z\x22,\x22updated_at\x22:\x222017-02-18T18:51:02.017Z\x22,\x22info_remote_ip\x22:\x2258.38.38.167\x22}}"
# params = JSON.parse raw
#
# Quest.find_or_create_by(form: params[:form],
#                        form_name: params[:form_name],
#                        serial_number: params[:entry][:serial_number],
#                        field_10: params[:entry][:field_1],
#                        creator_name: params[:entry][:creator_name])
