class Api::QuestsController < Api::BaseController

  def submit
    if params[:entry]
      Quest.find_or_create_by(form: params[:form],
                             form_name: params[:form_name],
                             serial_number: params[:entry][:serial_number],
                             field_10: params[:entry][:field_10],
                             creator_name: params[:entry][:creator_name])
      render json: {}, status: 200
    else
      return api_error(status: 401)
    end
  end
end

# raw = "{\x22form\x22:\x220WCL14\x22,\x22form_name\x22:\x22\xE5\xAD\x95\xE6\x9C\x9F\xE9\x97\xAE\xE9\xA2\x98\x22,\x22entry\x22:{\x22serial_number\x22:3,\x22field_10\x22:[\x22\xE5\xAD\x95\xE6\x9C\x9F\xE5\xB0\xBF\xE9\xA2\x91\xE3\x80\x81\xE6\xB0\xB4\xE8\x82\xBF\xE6\x98\xAF\xE6\xAD\xA3\xE5\xB8\xB8\xE7\x8E\xB0\xE8\xB1\xA1\xE5\x90\x97\xEF\xBC\x9F\xE9\x9C\x80\xE8\xA6\x81\xE6\xB3\xA8\xE6\x84\x8F\xE4\xBA\x9B\xE4\xBB\x80\xE4\xB9\x88\xEF\xBC\x9F\x22,\x22\xE5\xAD\x95\xE6\x9C\x9F\xE7\x9A\xAE\xE8\x82\xA4\xE6\x97\xB6\xE5\xA5\xBD\xE6\x97\xB6\xE5\x9D\x8F\xEF\xBC\x8C\xE8\xBF\x98\xE4\xBC\x9A\xE9\x95\xBF\xE7\x97\x98\xEF\xBC\x8C\xE6\x80\x8E\xE4\xB9\x88\xE5\x8A\x9E\xEF\xBC\x9F\x22,\x22\xE8\x85\xBF\xE6\x8A\xBD\xE7\xAD\x8B\xE5\x8D\x95\xE7\xBA\xAF\xE6\x98\xAF\xE5\x9B\xA0\xE4\xB8\xBA\xE7\xBC\xBA\xE9\x92\x99\xE5\x90\x97\xEF\xBC\x9F\x22,\x22\xE5\xA6\x82\xE4\xBD\x95\xE9\xA2\x84\xE5\x88\xA4\xE8\x87\xAA\xE5\xB7\xB1\xE5\x8D\xB3\xE5\xB0\x86\xE5\x88\x86\xE5\xA8\xA9\xEF\xBC\x8C\xE9\x9C\x80\xE8\xA6\x81\xE5\x81\x9A\xE5\x93\xAA\xE4\xBA\x9B\xE5\x87\x86\xE5\xA4\x87\xEF\xBC\x9F\x22,\x22\xE7\xAC\xAC\xE4\xB8\x80\xE8\x83\x8E\xE6\x98\xAF\xE7\xA0\xB4\xE8\x85\xB9\xE4\xBA\xA7\xEF\xBC\x8C\xE7\xAC\xAC\xE4\xBA\x8C\xE8\x83\x8E\xE4\xB9\x9F\xE5\xBF\x85\xE9\xA1\xBB\xE7\xA0\xB4\xE8\x85\xB9\xE4\xBA\xA7\xE5\x90\x97\xEF\xBC\x9F\x22],\x22creator_name\x22:\x22dreamlinx\x22,\x22created_at\x22:\x222017-02-19T17:59:32.947Z\x22,\x22updated_at\x22:\x222017-02-19T17:59:32.947Z\x22,\x22info_remote_ip\x22:\x2258.38.38.167\x22}}"
# params = JSON.parse raw
#
# Quest.find_or_create_by(form: params["form"],
#                        form_name: params["form_name"],
#                        serial_number: params["entry"]["serial_number"],
#                        field_10: params["entry"]["field_10"],
#                        creator_name: params["entry"]["creator_name"])
